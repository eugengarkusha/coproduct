# Constant overhead coproduct
This repo contains the sample implementation of Coproduct with constant runtime overhead.
Coproduct is represented  by a single container class having an 'index' and a 'value',  labeled by the 'Shape' which defines the union type.

Features:  
-no Inr/Inl boxing  
-minimized runtime overhead for ops typeclasses (TODO: implement Nat spawning using macros for greater benefit of this point)

Performance details:  
-creates one object per instance (hence consumes less memory and runs faster)  
TODO: unprecise, need more (and better) performance tests.
-jvisualvm graphs(taken while running the Coproduct creation benchmark included in this repo):

shapeless existing impl: ![alt tag](https://lh3.googleusercontent.com/MuM1VbnSKY7CcT7jjBZxGnHce_a837lyViEwsexenDZdPuomEv15LrUcQZ3gLjtQJ7FxE8AAAh5PqR7hL77-HXzdct5kz8K1-NpTpDNc1mYCFzP5ucMblzhpJV9wxkTdRb2_VTQL9zXK5Rwr0BGyIz7mQE0hQGwkaliesEnHJfcrb3j_IS2bneK_oN17414IbdSG0oUh6oubBG6KaQfZ9qlrKuT9qsj3HEWLwfERSZXgPLUCU_uHkftLy9LRNsn34qme7JrFp8EXoVWvRdiWMHyCe1KwElm-NF89wx6mvvUeESm600fAileZECeHWIe8o9nmSA7fbycg5p7fxK97oJ15aJ2wB2Qu045GDTFgC7ygA5tgu7hsMXZilZeMagZbVLBeeHJn_DAjUW5WGFh0f1XONfudeuGD2kd-F4J4tSfd-CsHlnGq3Zz2LtidMOswBV0CJWYQkR9KFeByv9G8BBR3VX4d43dhu3d8N_xIUNmWbYMR0mrXfLSqNUU8HnSxfbi7IVUUsVyIsx_ucITD3GhzX2mCcuugQtzmXrwxFbCNpjD9oyeaXMhDWONlvypN1YNIfWg2n1jq5AlOfs_QnNMhqvBodx7WyU7BAjMKZVl0OaMUORFQxqEDxWNHAqRrJIIyBk-2IlTAM_MsoC8y9KMeuk49FHTjq5VqMfGPRA=w2328-h1358-no)  

proposed impl: ![alt tag](https://lh3.googleusercontent.com/QX3UEnLUbTKlWBGtrSAPxmVCgMVJhLLHZ2dMsjU8VWvkDjPcOpGkLdxG43ifV2kXAQBsJmBYQzSIGfR8D7M_LRBf8tY78UTxZvWbag6W7O0MsI8zTpLUqoFZV8IcjmC-GOKnaelAt9Pa6vhdbeHa6Fba8w941GZ19MjO0DJ17x-JNTF5QEj2zZKiCIVxZCGtiCUVdXcZuTSuz7yiAHerD7iML3XH4fEop3fmpiRktxcvwKvO9gQIAlMYufQQQtQlFuyTk6-yiLBa2xp-QoEAaouKfhxsO63bVzRn3fLcaRhH_QxkoDgvvF8v6dyth0aO0gwIVO30c3vF8ZHh1wIy4f8HFvVJpAsprdrZ-Fb3NzXHnEWXbBcs5IaipA9VNsJsDHT1_9LTiUCePybXCbO4lGi8zJxnAUXnpG0IhX9cjNRKX5UBm65h7a69ehuhb7Jp1sonfeBWyUjCQS6c9BBiLHB0Lw08ia8GFNLofZGSxj0tTVzfY9UgD_vvtuZQsGRWvnjq4k9vXNCiEszyKpxd3Pj_7fH6hDdGrYRdFzR3y7xlAZklIR1LSf3D4BHBBs5tcaqlRtlaqB_apcXDU9VrrS3gzE606tBLZ908bLsoFMUHo5LqK_XcZar3fulOn6YKXg70Sib--99qo8DxuINIYkS3P9zPeak89Plgd06o9Q=w2030-h1408-no)



Project is created for demo purpose (proof of concept).
